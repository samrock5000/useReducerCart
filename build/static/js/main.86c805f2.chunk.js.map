{"version":3,"sources":["reducer.js","context.js","data.js","Navbar.js","CartItem.js","CartContainer.js","App.js","index.js"],"names":["reducer","state","action","type","cart","filter","cartItem","id","payload","tempCart","map","amount","reduce","cartTotal","price","itemTotal","total","parseFloat","toFixed","loading","Error","AppContext","React","createContext","initialState","title","img","AppProvider","children","useReducer","dispatch","fetchData","a","fetch","response","json","useEffect","Provider","value","clearCart","remove","increase","decrease","toggleAmount","useGlobalContext","useContext","Navbar","className","xmlns","viewBox","d","CartItem","src","alt","onClick","CartContainer","length","item","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.86c805f2.chunk.js","sourcesContent":["const reducer = (state, action) => {\r\n    if (action.type === 'CLEAR_CART') {\r\n      return { ...state, cart: [] }\r\n    }\r\n    if (action.type === 'REMOVE') {\r\n      return {\r\n        ...state,\r\n        cart: state.cart.filter((cartItem) => cartItem.id !== action.payload),\r\n      }\r\n    }\r\n    if (action.type === 'INCREASE') {\r\n      let tempCart = state.cart.map((cartItem) => {\r\n        if (cartItem.id === action.payload) {\r\n          return { ...cartItem, amount: cartItem.amount + 1 }\r\n        }\r\n        return cartItem\r\n      })\r\n      return { ...state, cart: tempCart }\r\n    }\r\n    if (action.type === 'DECREASE') {\r\n      let tempCart = state.cart\r\n        .map((cartItem) => {\r\n          if (cartItem.id === action.payload) {\r\n            return { ...cartItem, amount: cartItem.amount - 1 }\r\n          }\r\n          return cartItem\r\n        })\r\n        .filter((cartItem) => cartItem.amount !== 0)\r\n      return { ...state, cart: tempCart }\r\n    }\r\n    if (action.type === 'GET_TOTALS') {\r\n      let { total, amount } = state.cart.reduce(\r\n        (cartTotal, cartItem) => {\r\n          const { price, amount } = cartItem\r\n          const itemTotal = price * amount\r\n  \r\n          cartTotal.total += itemTotal\r\n          cartTotal.amount += amount\r\n          return cartTotal\r\n        },\r\n        {\r\n          total: 0,\r\n          amount: 0,\r\n        }\r\n      )\r\n      total = parseFloat(total.toFixed(2))\r\n  \r\n      return { ...state, total, amount }\r\n    }\r\n    if (action.type === 'LOADING') {\r\n      return { ...state, loading: true }\r\n    }\r\n    if (action.type === 'DISPLAY_ITEMS') {\r\n      return { ...state, cart: action.payload, loading: false }\r\n    }\r\n    if (action.type === 'TOGGLE_AMOUNT') {\r\n      let tempCart = state.cart\r\n        .map((cartItem) => {\r\n          if (cartItem.id === action.payload.id) {\r\n            if (action.payload.type === 'inc') {\r\n              return { ...cartItem, amount: cartItem.amount + 1 }\r\n            }\r\n            if (action.payload.type === 'dec') {\r\n              return { ...cartItem, amount: cartItem.amount - 1 }\r\n            }\r\n          }\r\n          return cartItem\r\n        })\r\n        .filter((cartItem) => cartItem.amount !== 0)\r\n      return { ...state, cart: tempCart }\r\n    }\r\n    throw new Error('no matching action type')\r\n  }\r\n  \r\n  export default reducer\r\n  ","import React, { useState, useContext, useReducer, useEffect } from 'react'\r\nimport cartItems from './data'\r\nimport reducer from './reducer'\r\n// ATTENTION!!!!!!!!!!\r\n// I SWITCHED TO PERMANENT DOMAIN\r\nconst url = 'https://course-api.com/react-useReducer-cart-project'\r\nconst AppContext = React.createContext()\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  cart: cartItems,\r\n  total: 0,\r\n  amount: 0,\r\n}\r\n\r\nconst AppProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(reducer, initialState)\r\n\r\n  const clearCart = () => {\r\n    dispatch({ type: 'CLEAR_CART' })\r\n  }\r\n  const remove = (id) => {\r\n    dispatch({ type: 'REMOVE', payload: id })\r\n  }\r\n  const increase = (id) => {\r\n    dispatch({ type: 'INCREASE', payload: id })\r\n  }\r\n  const decrease = (id) => {\r\n    dispatch({ type: 'DECREASE', payload: id })\r\n  }\r\n  const fetchData = async () => {\r\n    dispatch({ type: 'LOADING' })\r\n    const response = await fetch(url)\r\n    const cart = await response.json()\r\n    dispatch({ type: 'DISPLAY_ITEMS', payload: cart })\r\n  }\r\n  const toggleAmount = (id, type) => {\r\n    dispatch({ type: 'TOGGLE_AMOUNT', payload: { id, type } })\r\n  }\r\n  useEffect(() => {\r\n    fetchData()\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: 'GET_TOTALS' })\r\n  }, [state.cart])\r\n  return (\r\n    <AppContext.Provider\r\n      value={{\r\n        ...state,\r\n        clearCart,\r\n        remove,\r\n        increase,\r\n        decrease,\r\n        toggleAmount,\r\n      }}\r\n    >\r\n      {children}\r\n    </AppContext.Provider>\r\n  )\r\n}\r\n// make sure use\r\nexport const useGlobalContext = () => {\r\n  return useContext(AppContext)\r\n}\r\n\r\nexport { AppContext, AppProvider }\r\n","export default [\r\n    {\r\n      id: 1,\r\n      title: 'Samsung Galaxy S7',\r\n      price: 599.99,\r\n      img:\r\n        'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583368215/phone-2_ohtt5s.png',\r\n      amount: 1,\r\n    },\r\n    {\r\n      id: 2,\r\n      title: 'google pixel ',\r\n      price: 499.99,\r\n      img:\r\n        'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583371867/phone-1_gvesln.png',\r\n      amount: 1,\r\n    },\r\n    {\r\n      id: 3,\r\n      title: 'Xiaomi Redmi Note 2',\r\n      price: 699.99,\r\n      img:\r\n        'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583368224/phone-3_h2s6fo.png',\r\n      amount: 1,\r\n    },\r\n  ];\r\n  ","import React from 'react'\r\nimport { useGlobalContext } from './context'\r\nconst Navbar = () => {\r\n  const { amount } = useGlobalContext()\r\n  return (\r\n    <nav>\r\n      <div className='nav-center'>\r\n        <h3>useReducer</h3>\r\n        <div className='nav-container'>\r\n          <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'>\r\n            <path d='M16 6v2h2l2 12H0L2 8h2V6a6 6 0 1 1 12 0zm-2 0a4 4 0 1 0-8 0v2h8V6zM4 10v2h2v-2H4zm10 0v2h2v-2h-2z' />\r\n          </svg>\r\n          <div className='amount-container'>\r\n            <p className='total-amount'>{amount}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default Navbar\r\n","import React from 'react'\r\nimport { useGlobalContext } from './context'\r\nconst CartItem = ({ id, img, title, price, amount }) => {\r\n  const { remove, increase, decrease, toggleAmount } = useGlobalContext()\r\n  return (\r\n    <article className='cart-item'>\r\n      <img src={img} alt={title} />\r\n      <div>\r\n        <h4>{title}</h4>\r\n        <h4 className='item-price'>${price}</h4>\r\n        {/* remove button */}\r\n        <button className='remove-btn' onClick={() => remove(id)}>\r\n          remove\r\n        </button>\r\n      </div>\r\n      <div>\r\n        {/* increase amount */}\r\n        <button className='amount-btn' onClick={() => toggleAmount(id, 'inc')}>\r\n          <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'>\r\n            <path d='M10.707 7.05L10 6.343 4.343 12l1.414 1.414L10 9.172l4.243 4.242L15.657 12z' />\r\n          </svg>\r\n        </button>\r\n        {/* amount */}\r\n        <p className='amount'>{amount}</p>\r\n        {/* decrease amount */}\r\n        <button className='amount-btn' onClick={() => toggleAmount(id, 'dec')}>\r\n          <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'>\r\n            <path d='M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z' />\r\n          </svg>\r\n        </button>\r\n      </div>\r\n    </article>\r\n  )\r\n}\r\n\r\nexport default CartItem\r\n","import React from 'react'\r\nimport CartItem from './CartItem'\r\nimport { useGlobalContext } from './context'\r\n\r\nconst CartContainer = () => {\r\n  const { cart, total, clearCart } = useGlobalContext()\r\n  if (cart.length === 0) {\r\n    return (\r\n      <section className='cart'>\r\n        {/* cart header */}\r\n        <header>\r\n          <h2>your bag</h2>\r\n          <h4 className='empty-cart'>is currently empty</h4>\r\n        </header>\r\n      </section>\r\n    )\r\n  }\r\n  return (\r\n    <section className='cart'>\r\n      {/* cart header */}\r\n      <header>\r\n        <h2>your bag</h2>\r\n      </header>\r\n      {/* cart items */}\r\n      <div>\r\n        {cart.map((item) => {\r\n          return <CartItem key={item.id} {...item} />\r\n        })}\r\n      </div>\r\n      {/* cart footer */}\r\n      <footer>\r\n        <hr />\r\n        <div className='cart-total'>\r\n          <h4>\r\n            total <span>${total}</span>\r\n          </h4>\r\n        </div>\r\n        <button className='btn clear-btn' onClick={clearCart}>\r\n          clear cart\r\n        </button>\r\n      </footer>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default CartContainer\r\n","import React from 'react'\r\nimport { useGlobalContext } from './context'\r\n\r\n// components\r\nimport Navbar from './Navbar'\r\nimport CartContainer from './CartContainer'\r\n// items\r\n\r\nfunction App() {\r\n  const { loading } = useGlobalContext()\r\n  if (loading) {\r\n    return (\r\n      <div className='loading'>\r\n        <h1>Loading...</h1>\r\n      </div>\r\n    )\r\n  }\r\n  return (\r\n    <main>\r\n      <Navbar />\r\n      <CartContainer />\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { AppProvider } from './context';\nReactDOM.render(\n  <React.StrictMode>\n    <AppProvider>\n      <App />\n    </AppProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}